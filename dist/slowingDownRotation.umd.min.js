!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t="undefined"!=typeof globalThis?globalThis:t||self).SlowingDownRotation=n()}(this,(function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n={exports:{}},e=function(t){return t&&t.Math==Math&&t},r=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof t&&t)||function(){return this}()||Function("return this")(),o=Function.prototype,i=o.apply,u=o.bind,a=o.call,c="object"==typeof Reflect&&Reflect.apply||(u?a.bind(i):function(){return a.apply(i,arguments)}),l=Function.prototype,f=l.bind,s=l.call,p=f&&f.bind(s),y=f?function(t){return t&&p(s,t)}:function(t){return t&&function(){return s.apply(t,arguments)}},d=function(t){return"function"==typeof t},b={},h=function(t){try{return!!t()}catch(t){return!0}},m=!h((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),v=Function.prototype.call,g=v.bind?v.bind(v):function(){return v.apply(v,arguments)},w={},S={}.propertyIsEnumerable,O=Object.getOwnPropertyDescriptor,j=O&&!S.call({1:2},1);w.f=j?function(t){var n=O(this,t);return!!n&&n.enumerable}:S;var x,P,T=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}},E=y,C=E({}.toString),I=E("".slice),k=y,M=h,D=function(t){return I(C(t),8,-1)},L=r.Object,F=k("".split),_=M((function(){return!L("z").propertyIsEnumerable(0)}))?function(t){return"String"==D(t)?F(t,""):L(t)}:L,z=r.TypeError,A=function(t){if(null==t)throw z("Can't call method on "+t);return t},R=_,N=A,q=function(t){return R(N(t))},G=d,V=function(t){return"object"==typeof t?null!==t:G(t)},Y={},B=Y,H=r,J=d,K=function(t){return J(t)?t:void 0},Q=function(t,n){return arguments.length<2?K(B[t])||K(H[t]):B[t]&&B[t][n]||H[t]&&H[t][n]},U=y({}.isPrototypeOf),W=Q("navigator","userAgent")||"",X=r,Z=W,$=X.process,tt=X.Deno,nt=$&&$.versions||tt&&tt.version,et=nt&&nt.v8;et&&(P=(x=et.split("."))[0]>0&&x[0]<4?1:+(x[0]+x[1])),!P&&Z&&(!(x=Z.match(/Edge\/(\d+)/))||x[1]>=74)&&(x=Z.match(/Chrome\/(\d+)/))&&(P=+x[1]);var rt=P,ot=h,it=!!Object.getOwnPropertySymbols&&!ot((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&rt&&rt<41})),ut=it&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,at=Q,ct=d,lt=U,ft=ut,st=r.Object,pt=ft?function(t){return"symbol"==typeof t}:function(t){var n=at("Symbol");return ct(n)&&lt(n.prototype,st(t))},yt=r.String,dt=d,bt=function(t){try{return yt(t)}catch(t){return"Object"}},ht=r.TypeError,mt=function(t){if(dt(t))return t;throw ht(bt(t)+" is not a function")},vt=mt,gt=g,wt=d,St=V,Ot=r.TypeError,jt={exports:{}},xt=r,Pt=Object.defineProperty,Tt=function(t,n){try{Pt(xt,t,{value:n,configurable:!0,writable:!0})}catch(e){xt[t]=n}return n},Et="__core-js_shared__",Ct=r[Et]||Tt(Et,{});(jt.exports=function(t,n){return Ct[t]||(Ct[t]=void 0!==n?n:{})})("versions",[]).push({version:"3.19.1",mode:"pure",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"});var It=A,kt=r.Object,Mt=function(t){return kt(It(t))},Dt=Mt,Lt=y({}.hasOwnProperty),Ft=Object.hasOwn||function(t,n){return Lt(Dt(t),n)},_t=y,zt=0,At=Math.random(),Rt=_t(1..toString),Nt=r,qt=jt.exports,Gt=Ft,Vt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Rt(++zt+At,36)},Yt=it,Bt=ut,Ht=qt("wks"),Jt=Nt.Symbol,Kt=Jt&&Jt.for,Qt=Bt?Jt:Jt&&Jt.withoutSetter||Vt,Ut=g,Wt=V,Xt=pt,Zt=function(t,n){var e=t[n];return null==e?void 0:vt(e)},$t=function(t,n){var e,r;if("string"===n&&wt(e=t.toString)&&!St(r=gt(e,t)))return r;if(wt(e=t.valueOf)&&!St(r=gt(e,t)))return r;if("string"!==n&&wt(e=t.toString)&&!St(r=gt(e,t)))return r;throw Ot("Can't convert object to primitive value")},tn=function(t){if(!Gt(Ht,t)||!Yt&&"string"!=typeof Ht[t]){var n="Symbol."+t;Yt&&Gt(Jt,t)?Ht[t]=Jt[t]:Ht[t]=Bt&&Kt?Kt(n):Qt(n)}return Ht[t]},nn=r.TypeError,en=tn("toPrimitive"),rn=function(t,n){if(!Wt(t)||Xt(t))return t;var e,r=Zt(t,en);if(r){if(void 0===n&&(n="default"),e=Ut(r,t,n),!Wt(e)||Xt(e))return e;throw nn("Can't convert object to primitive value")}return void 0===n&&(n="number"),$t(t,n)},on=pt,un=function(t){var n=rn(t,"string");return on(n)?n:n+""},an=V,cn=r.document,ln=an(cn)&&an(cn.createElement),fn=function(t){return ln?cn.createElement(t):{}},sn=!m&&!h((function(){return 7!=Object.defineProperty(fn("div"),"a",{get:function(){return 7}}).a})),pn=m,yn=g,dn=w,bn=T,hn=q,mn=un,vn=Ft,gn=sn,wn=Object.getOwnPropertyDescriptor;b.f=pn?wn:function(t,n){if(t=hn(t),n=mn(n),gn)try{return wn(t,n)}catch(t){}if(vn(t,n))return bn(!yn(dn.f,t,n),t[n])};var Sn=h,On=d,jn=/#|\.prototype\./,xn=function(t,n){var e=Tn[Pn(t)];return e==Cn||e!=En&&(On(n)?Sn(n):!!n)},Pn=xn.normalize=function(t){return String(t).replace(jn,".").toLowerCase()},Tn=xn.data={},En=xn.NATIVE="N",Cn=xn.POLYFILL="P",In=xn,kn=mt,Mn=y(y.bind),Dn={},Ln=r,Fn=V,_n=Ln.String,zn=Ln.TypeError,An=m,Rn=sn,Nn=function(t){if(Fn(t))return t;throw zn(_n(t)+" is not an object")},qn=un,Gn=r.TypeError,Vn=Object.defineProperty;Dn.f=An?Vn:function(t,n,e){if(Nn(t),n=qn(n),Nn(e),Rn)try{return Vn(t,n,e)}catch(t){}if("get"in e||"set"in e)throw Gn("Accessors not supported");return"value"in e&&(t[n]=e.value),t};var Yn=Dn,Bn=T,Hn=m?function(t,n,e){return Yn.f(t,n,Bn(1,e))}:function(t,n,e){return t[n]=e,t},Jn=r,Kn=c,Qn=y,Un=d,Wn=b.f,Xn=In,Zn=Y,$n=function(t,n){return kn(t),void 0===n?t:Mn?Mn(t,n):function(){return t.apply(n,arguments)}},te=Hn,ne=Ft,ee=function(t){var n=function(e,r,o){if(this instanceof n){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,o)}return Kn(t,this,arguments)};return n.prototype=t.prototype,n},re=function(t,n){var e,r,o,i,u,a,c,l,f=t.target,s=t.global,p=t.stat,y=t.proto,d=s?Jn:p?Jn[f]:(Jn[f]||{}).prototype,b=s?Zn:Zn[f]||te(Zn,f,{})[f],h=b.prototype;for(o in n)e=!Xn(s?o:f+(p?".":"#")+o,t.forced)&&d&&ne(d,o),u=b[o],e&&(a=t.noTargetGet?(l=Wn(d,o))&&l.value:d[o]),i=e&&a?a:n[o],e&&typeof u==typeof i||(c=t.bind&&e?$n(i,Jn):t.wrap&&e?ee(i):y&&Un(i)?Qn(i):i,(t.sham||i&&i.sham||u&&u.sham)&&te(c,"sham",!0),te(b,o,c),y&&(ne(Zn,r=f+"Prototype")||te(Zn,r,{}),te(Zn[r],o,i),t.real&&h&&!h[o]&&te(h,o,i)))};re({target:"Object",stat:!0,forced:!m,sham:!m},{defineProperty:Dn.f});var oe=Y.Object,ie=n.exports=function(t,n,e){return oe.defineProperty(t,n,e)};oe.defineProperty.sham&&(ie.sham=!0);var ue=n.exports;function ae(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),ue(t,r.key,r)}}var ce=Math.ceil,le=Math.floor,fe=function(t){var n=+t;return n!=n||0===n?0:(n>0?le:ce)(n)},se=fe,pe=Math.max,ye=Math.min,de=fe,be=Math.min,he=function(t){return t>0?be(de(t),9007199254740991):0},me=q,ve=function(t,n){var e=se(t);return e<0?pe(e+n,0):ye(e,n)},ge=function(t){return he(t.length)},we=function(t){return function(n,e,r){var o,i=me(n),u=ge(i),a=ve(r,u);if(t&&e!=e){for(;u>a;)if((o=i[a++])!=o)return!0}else for(;u>a;a++)if((t||a in i)&&i[a]===e)return t||a||0;return!t&&-1}},Se={includes:we(!0),indexOf:we(!1)},Oe=Ft,je=q,xe=Se.indexOf,Pe={},Te=y([].push),Ee=function(t,n){var e,r=je(t),o=0,i=[];for(e in r)!Oe(Pe,e)&&Oe(r,e)&&Te(i,e);for(;n.length>o;)Oe(r,e=n[o++])&&(~xe(i,e)||Te(i,e));return i},Ce=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ie=Object.keys||function(t){return Ee(t,Ce)},ke={};ke.f=Object.getOwnPropertySymbols;var Me=m,De=y,Le=g,Fe=h,_e=Ie,ze=ke,Ae=w,Re=Mt,Ne=_,qe=Object.assign,Ge=Object.defineProperty,Ve=De([].concat),Ye=!qe||Fe((function(){if(Me&&1!==qe({b:1},qe(Ge({},"a",{enumerable:!0,get:function(){Ge(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},n={},e=Symbol(),r="abcdefghijklmnopqrst";return t[e]=7,r.split("").forEach((function(t){n[t]=t})),7!=qe({},t)[e]||_e(qe({},n)).join("")!=r}))?function(t,n){for(var e=Re(t),r=arguments.length,o=1,i=ze.f,u=Ae.f;r>o;)for(var a,c=Ne(arguments[o++]),l=i?Ve(_e(c),i(c)):_e(c),f=l.length,s=0;f>s;)a=l[s++],Me&&!Le(u,c,a)||(e[a]=c[a]);return e}:qe,Be=Ye;re({target:"Object",stat:!0,forced:Object.assign!==Be},{assign:Be});var He=Y.Object.assign,Je=y([].slice),Ke=re,Qe=r,Ue=c,We=d,Xe=Je,Ze=/MSIE .\./.test(W),$e=Qe.Function,tr=function(t){return function(n,e){var r=arguments.length>2,o=r?Xe(arguments,2):void 0;return t(r?function(){Ue(We(n)?n:$e(n),this,o)}:n,e)}};Ke({global:!0,bind:!0,forced:Ze},{setTimeout:tr(Qe.setTimeout),setInterval:tr(Qe.setInterval)});var nr=Y.setTimeout,er={currentPlayCount:null,playCount:null,currentIndex:null,stopIndex:null,slowDownStartindex:null,isSlowdown:!1,isPlay:!1,isStop:!1,countTimer:null},rr={wrapperElement:null,targetElement:null,itemElements:null,speed:100,stopIndex:0,playCount:3,autoStart:!1,stopCallback:function(){},startCallback:function(){},slowDownCallback:function(){}};return function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),He(this,{options:He({},er,rr,n)})}var n,e,r;return n=t,(e=[{key:"init",value:function(){this.options.autoStart&&this.start()}},{key:"start",value:function(){var t=this.options;t.countTimer&&clearTimeout(t.countTimer),t.isPlay||(t.isPlay=!0),t.startCallback(),this.roll(t.playCount,t.speed)}},{key:"stop",value:function(){var t=this.options;t.isSlowdown||(t.countTimer&&clearTimeout(t.countTimer),t.stopCallback(),t.itemElements.length>=t.stopIndex&&t.stopIndex>=0&&(t.isSlowdown=!0,t.currentPlayCount=0,this.roll(Math.max(1,Math.ceil(20/t.itemElements.length)),t.speed),t.slowDownCallback()))}},{key:"reset",value:function(){var t=this.options;t.playCount=er.playCount,t.currentIndex=er.currentIndex,t.slowDownStartindex=er.slowDownStartindex,t.isSlowdown=er.isSlowdown,t.isStop=er.isStop,t.countTimer&&(clearTimeout(t.countTimer),t.countTimer=null)}},{key:"roll",value:function(t,n){var e=this,r=this.options;if(r.currentIndex++,r.currentIndex>=r.itemElements.length&&(r.currentIndex=0,r.currentPlayCount++),r.isSlowdown){if(r.currentPlayCount>t&&r.currentIndex-1===r.stopIndex)return void this.reset();n=Math.floor(n+t*(r.currentIndex*r.currentPlayCount))}else if(r.currentPlayCount>t)return void this.stop();this.output(),r.countTimer=nr((function(){e.roll(t,n)}),n)}},{key:"output",value:function(){var t=this.options,n="is-active",e=t.currentIndex-1;e<0&&(e=t.itemElements.length-1),t.itemElements[e].classList.remove(n),t.itemElements[t.currentIndex].classList.add(n)}}])&&ae(n.prototype,e),r&&ae(n,r),t}()}));
//# sourceMappingURL=slowingDownRotation.umd.min.js.map
