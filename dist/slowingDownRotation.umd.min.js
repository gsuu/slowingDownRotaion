!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).SlowingDownRotation=e()}(this,(function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e={exports:{}},n=function(t){return t&&t.Math==Math&&t},r=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")(),o=Function.prototype,i=o.apply,u=o.bind,s=o.call,a="object"==typeof Reflect&&Reflect.apply||(u?s.bind(i):function(){return s.apply(i,arguments)}),l=Function.prototype,c=l.bind,f=l.call,p=c&&c.bind(f),d=c?function(t){return t&&p(f,t)}:function(t){return t&&function(){return f.apply(t,arguments)}},m=function(t){return"function"==typeof t},y={},v=function(t){try{return!!t()}catch(t){return!0}},h=!v((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),b=Function.prototype.call,x=b.bind?b.bind(b):function(){return b.apply(b,arguments)},g={},w={}.propertyIsEnumerable,E=Object.getOwnPropertyDescriptor,I=E&&!w.call({1:2},1);g.f=I?function(t){var e=E(this,t);return!!e&&e.enumerable}:w;var S,O,P=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},j=d,T=j({}.toString),C=j("".slice),k=function(t){return C(T(t),8,-1)},L=d,M=v,D=k,A=r.Object,N=L("".split),F=M((function(){return!A("z").propertyIsEnumerable(0)}))?function(t){return"String"==D(t)?N(t,""):A(t)}:A,_=r.TypeError,z=function(t){if(null==t)throw _("Can't call method on "+t);return t},R=F,q=z,G=function(t){return R(q(t))},V=m,Y=function(t){return"object"==typeof t?null!==t:V(t)},B={},H=B,J=r,K=m,Q=function(t){return K(t)?t:void 0},U=function(t,e){return arguments.length<2?Q(H[t])||Q(J[t]):H[t]&&H[t][e]||J[t]&&J[t][e]},W=d({}.isPrototypeOf),X=U("navigator","userAgent")||"",Z=r,$=X,tt=Z.process,et=Z.Deno,nt=tt&&tt.versions||et&&et.version,rt=nt&&nt.v8;rt&&(O=(S=rt.split("."))[0]>0&&S[0]<4?1:+(S[0]+S[1])),!O&&$&&(!(S=$.match(/Edge\/(\d+)/))||S[1]>=74)&&(S=$.match(/Chrome\/(\d+)/))&&(O=+S[1]);var ot=O,it=v,ut=!!Object.getOwnPropertySymbols&&!it((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&ot&&ot<41})),st=ut&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,at=U,lt=m,ct=W,ft=st,pt=r.Object,dt=ft?function(t){return"symbol"==typeof t}:function(t){var e=at("Symbol");return lt(e)&&ct(e.prototype,pt(t))},mt=r.String,yt=m,vt=function(t){try{return mt(t)}catch(t){return"Object"}},ht=r.TypeError,bt=function(t){if(yt(t))return t;throw ht(vt(t)+" is not a function")},xt=bt,gt=x,wt=m,Et=Y,It=r.TypeError,St={exports:{}},Ot=r,Pt=Object.defineProperty,jt=function(t,e){try{Pt(Ot,t,{value:e,configurable:!0,writable:!0})}catch(n){Ot[t]=e}return e},Tt="__core-js_shared__",Ct=r[Tt]||jt(Tt,{});(St.exports=function(t,e){return Ct[t]||(Ct[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.19.1",mode:"pure",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"});var kt=z,Lt=r.Object,Mt=function(t){return Lt(kt(t))},Dt=Mt,At=d({}.hasOwnProperty),Nt=Object.hasOwn||function(t,e){return At(Dt(t),e)},Ft=d,_t=0,zt=Math.random(),Rt=Ft(1..toString),qt=r,Gt=St.exports,Vt=Nt,Yt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Rt(++_t+zt,36)},Bt=ut,Ht=st,Jt=Gt("wks"),Kt=qt.Symbol,Qt=Kt&&Kt.for,Ut=Ht?Kt:Kt&&Kt.withoutSetter||Yt,Wt=x,Xt=Y,Zt=dt,$t=function(t,e){var n=t[e];return null==n?void 0:xt(n)},te=function(t,e){var n,r;if("string"===e&&wt(n=t.toString)&&!Et(r=gt(n,t)))return r;if(wt(n=t.valueOf)&&!Et(r=gt(n,t)))return r;if("string"!==e&&wt(n=t.toString)&&!Et(r=gt(n,t)))return r;throw It("Can't convert object to primitive value")},ee=function(t){if(!Vt(Jt,t)||!Bt&&"string"!=typeof Jt[t]){var e="Symbol."+t;Bt&&Vt(Kt,t)?Jt[t]=Kt[t]:Jt[t]=Ht&&Qt?Qt(e):Ut(e)}return Jt[t]},ne=r.TypeError,re=ee("toPrimitive"),oe=function(t,e){if(!Xt(t)||Zt(t))return t;var n,r=$t(t,re);if(r){if(void 0===e&&(e="default"),n=Wt(r,t,e),!Xt(n)||Zt(n))return n;throw ne("Can't convert object to primitive value")}return void 0===e&&(e="number"),te(t,e)},ie=dt,ue=function(t){var e=oe(t,"string");return ie(e)?e:e+""},se=Y,ae=r.document,le=se(ae)&&se(ae.createElement),ce=function(t){return le?ae.createElement(t):{}},fe=!h&&!v((function(){return 7!=Object.defineProperty(ce("div"),"a",{get:function(){return 7}}).a})),pe=h,de=x,me=g,ye=P,ve=G,he=ue,be=Nt,xe=fe,ge=Object.getOwnPropertyDescriptor;y.f=pe?ge:function(t,e){if(t=ve(t),e=he(e),xe)try{return ge(t,e)}catch(t){}if(be(t,e))return ye(!de(me.f,t,e),t[e])};var we=v,Ee=m,Ie=/#|\.prototype\./,Se=function(t,e){var n=Pe[Oe(t)];return n==Te||n!=je&&(Ee(e)?we(e):!!e)},Oe=Se.normalize=function(t){return String(t).replace(Ie,".").toLowerCase()},Pe=Se.data={},je=Se.NATIVE="N",Te=Se.POLYFILL="P",Ce=Se,ke=bt,Le=d(d.bind),Me={},De=r,Ae=Y,Ne=De.String,Fe=De.TypeError,_e=h,ze=fe,Re=function(t){if(Ae(t))return t;throw Fe(Ne(t)+" is not an object")},qe=ue,Ge=r.TypeError,Ve=Object.defineProperty;Me.f=_e?Ve:function(t,e,n){if(Re(t),e=qe(e),Re(n),ze)try{return Ve(t,e,n)}catch(t){}if("get"in n||"set"in n)throw Ge("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var Ye=Me,Be=P,He=h?function(t,e,n){return Ye.f(t,e,Be(1,n))}:function(t,e,n){return t[e]=n,t},Je=r,Ke=a,Qe=d,Ue=m,We=y.f,Xe=Ce,Ze=B,$e=function(t,e){return ke(t),void 0===e?t:Le?Le(t,e):function(){return t.apply(e,arguments)}},tn=He,en=Nt,nn=function(t){var e=function(n,r,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,o)}return Ke(t,this,arguments)};return e.prototype=t.prototype,e},rn=function(t,e){var n,r,o,i,u,s,a,l,c=t.target,f=t.global,p=t.stat,d=t.proto,m=f?Je:p?Je[c]:(Je[c]||{}).prototype,y=f?Ze:Ze[c]||tn(Ze,c,{})[c],v=y.prototype;for(o in e)n=!Xe(f?o:c+(p?".":"#")+o,t.forced)&&m&&en(m,o),u=y[o],n&&(s=t.noTargetGet?(l=We(m,o))&&l.value:m[o]),i=n&&s?s:e[o],n&&typeof u==typeof i||(a=t.bind&&n?$e(i,Je):t.wrap&&n?nn(i):d&&Ue(i)?Qe(i):i,(t.sham||i&&i.sham||u&&u.sham)&&tn(a,"sham",!0),tn(y,o,a),d&&(en(Ze,r=c+"Prototype")||tn(Ze,r,{}),tn(Ze[r],o,i),t.real&&v&&!v[o]&&tn(v,o,i)))};rn({target:"Object",stat:!0,forced:!h,sham:!h},{defineProperty:Me.f});var on=B.Object,un=e.exports=function(t,e,n){return on.defineProperty(t,e,n)};on.defineProperty.sham&&(un.sham=!0);var sn=e.exports;function an(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),sn(t,r.key,r)}}var ln=Math.ceil,cn=Math.floor,fn=function(t){var e=+t;return e!=e||0===e?0:(e>0?cn:ln)(e)},pn=fn,dn=Math.max,mn=Math.min,yn=fn,vn=Math.min,hn=function(t){return t>0?vn(yn(t),9007199254740991):0},bn=G,xn=function(t,e){var n=pn(t);return n<0?dn(n+e,0):mn(n,e)},gn=function(t){return hn(t.length)},wn=function(t){return function(e,n,r){var o,i=bn(e),u=gn(i),s=xn(r,u);if(t&&n!=n){for(;u>s;)if((o=i[s++])!=o)return!0}else for(;u>s;s++)if((t||s in i)&&i[s]===n)return t||s||0;return!t&&-1}},En={includes:wn(!0),indexOf:wn(!1)},In=Nt,Sn=G,On=En.indexOf,Pn={},jn=d([].push),Tn=function(t,e){var n,r=Sn(t),o=0,i=[];for(n in r)!In(Pn,n)&&In(r,n)&&jn(i,n);for(;e.length>o;)In(r,n=e[o++])&&(~On(i,n)||jn(i,n));return i},Cn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],kn=Object.keys||function(t){return Tn(t,Cn)},Ln={};Ln.f=Object.getOwnPropertySymbols;var Mn=h,Dn=d,An=x,Nn=v,Fn=kn,_n=Ln,zn=g,Rn=Mt,qn=F,Gn=Object.assign,Vn=Object.defineProperty,Yn=Dn([].concat),Bn=!Gn||Nn((function(){if(Mn&&1!==Gn({b:1},Gn(Vn({},"a",{enumerable:!0,get:function(){Vn(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=Gn({},t)[n]||Fn(Gn({},e)).join("")!=r}))?function(t,e){for(var n=Rn(t),r=arguments.length,o=1,i=_n.f,u=zn.f;r>o;)for(var s,a=qn(arguments[o++]),l=i?Yn(Fn(a),i(a)):Fn(a),c=l.length,f=0;c>f;)s=l[f++],Mn&&!An(u,a,s)||(n[s]=a[s]);return n}:Gn,Hn=Bn;rn({target:"Object",stat:!0,forced:Object.assign!==Hn},{assign:Hn});var Jn=B.Object.assign,Kn=k,Qn=rn,Un=Array.isArray||function(t){return"Array"==Kn(t)},Wn=d([].reverse),Xn=[1,2];Qn({target:"Array",proto:!0,forced:String(Xn)===String(Xn.reverse())},{reverse:function(){return Un(this)&&(this.length=this.length),Wn(this)}});var Zn=B,$n=function(t){return Zn[t+"Prototype"]}("Array").reverse,tr=W,er=$n,nr=Array.prototype,rr=function(t){var e=t.reverse;return t===nr||tr(nr,t)&&e===nr.reverse?er:e},or=d([].slice),ir=rn,ur=r,sr=a,ar=m,lr=or,cr=/MSIE .\./.test(X),fr=ur.Function,pr=function(t){return function(e,n){var r=arguments.length>2,o=r?lr(arguments,2):void 0;return t(r?function(){sr(ar(e)?e:fr(e),this,o)}:e,n)}};ir({global:!0,bind:!0,forced:cr},{setTimeout:pr(ur.setTimeout),setInterval:pr(ur.setInterval)});var dr=B.setTimeout,mr={currentPlayCount:0,playCount:0,currentIndex:-1,stopIndex:null,slowDownStartindex:null,isSlowdown:!1,isPlay:!1,isStop:!1,countTimer:null},yr={wrapperElement:null,targetElement:null,itemElements:null,speed:100,startIndex:2,stopIndex:0,playCount:3,autoStart:!1,reverse:!1,stopCallback:function(){},startCallback:function(){},slowDownCallback:function(){}};return function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.updateOption(e)}var e,n,r;return e=t,(n=[{key:"init",value:function(){this.options.autoStart&&this.start()}},{key:"updateOption",value:function(t){Jn(this,{options:Jn({},mr,yr,t)}),rr(this.options)?this.options.currentIndex=t.startIndex?t.startIndex:yr.startIndex:this.options.currentIndex=t.startIndex?t.startIndex-1:yr.startIndex-1}},{key:"start",value:function(){var t=this.options;t.countTimer&&clearTimeout(t.countTimer),t.isPlay||(t.isPlay=!0),t.startCallback(),this.roll(t.playCount,t.speed)}},{key:"stop",value:function(){var t=this.options;t.isSlowdown||(t.countTimer&&clearTimeout(t.countTimer),t.stopCallback(),t.itemElements.length>=t.stopIndex&&t.stopIndex>=0&&(t.isSlowdown=!0,t.currentPlayCount=0,this.roll(Math.max(1,Math.ceil(20/t.itemElements.length)),t.speed),t.slowDownCallback()))}},{key:"reset",value:function(){var t=this.options;t.countTimer&&(clearTimeout(t.countTimer),t.countTimer=null),t.playCount=mr.playCount,t.currentIndex=t.startIndex-1,t.slowDownStartindex=mr.slowDownStartindex,t.isSlowdown=mr.isSlowdown,t.isStop=mr.isStop}},{key:"roll",value:function(t,e){var n=this,r=this.options;if(r.isSlowdown){if(r.currentPlayCount>t&&r.currentIndex===r.stopIndex)return void this.reset();e=Math.floor(e+t*(r.currentIndex*r.currentPlayCount))}else if(r.currentPlayCount===t)return void this.stop();this.controllIndex(),r.countTimer=dr((function(){n.roll(t,e)}),e)}},{key:"controllIndex",value:function(){var t=this.options,e={xPrev:null,prev:null,current:null,next:null,xNext:null};rr(t)?(t.currentIndex--,-1===t.currentIndex&&(t.currentIndex=t.itemElements.length-1),0===t.currentIndex&&t.currentPlayCount++,e.prev=t.currentIndex-1,e.prev<0&&(e.prev=t.itemElements.length-1),e.next=t.currentIndex+1,e.next===t.itemElements.length&&(e.next=0),e.next<0&&(e.next=t.itemElements.length-1),e.xNext=e.next+1,e.xNext===t.itemElements.length&&(e.xNext=0),e.current=t.currentIndex):(t.currentIndex++,t.currentIndex===t.itemElements.length&&(t.currentIndex=0,t.currentPlayCount++),e.prev=t.currentIndex-1,e.prev<0&&(e.prev=t.itemElements.length-1),e.xPrev=e.prev-1,e.xPrev<0&&(e.xPrev=t.itemElements.length-1),e.next=t.currentIndex+1,e.next===t.itemElements.length&&(e.next=0),e.current=t.currentIndex),this.output(e)}},{key:"output",value:function(t){var e=this.options,n=t.xPrev,r=t.xNext,o=t.prev,i=t.current,u=t.next,s="sdr-active",a="sdr-prev",l="sdr-next";rr(e)?(e.itemElements[i].classList.remove(a),e.itemElements[u].classList.remove(s),e.itemElements[r].classList.remove(l),e.itemElements[i].classList.add(s),e.itemElements[u].classList.add(l),e.itemElements[o].classList.add(a)):(e.itemElements[n].classList.remove(a),e.itemElements[o].classList.add(a),e.itemElements[o].classList.remove(s),e.itemElements[i].classList.add(s),e.itemElements[i].classList.remove(l),e.itemElements[u].classList.add(l))}}])&&an(e.prototype,n),r&&an(e,r),t}()}));
//# sourceMappingURL=slowingDownRotation.umd.min.js.map
